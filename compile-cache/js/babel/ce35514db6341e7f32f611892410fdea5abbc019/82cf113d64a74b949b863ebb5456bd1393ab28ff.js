Object.defineProperty(exports, '__esModule', {
	value: true
});
/** @babel */

var getIconClass = function getIconClass(state) {
	return 'icon aec-icon-mouse text-' + (state || 'subtle');
};

var getIcon = function getIcon() {
	return document.getElementById('aec-status-bar-tile');
};

var getContainer = function getContainer() {
	return document.getElementById('aec-status-bar-container');
};

var createIcon = function createIcon(state) {
	var icon = document.createElement('span');

	icon.id = 'aec-status-bar-tile';
	icon.className = getIconClass(state);
	icon.addEventListener('click', function () {
		atom.commands.dispatch(atom.views.getView(atom.workspace), 'EditorConfig:show-state');
	});

	return icon;
};

var removeIcon = function removeIcon() {
	if (getIcon() !== null) {
		getIcon().parentNode.removeChild(getIcon());
	}
};

exports.removeIcon = removeIcon;
var containerExists = function containerExists() {
	return getContainer() !== null;
};

exports.containerExists = containerExists;
var displayIcon = function displayIcon(state) {
	var icon = getIcon() || createIcon(state);
	if (icon.parentNode === null && containerExists()) {
		getContainer().appendChild(icon);
	} else {
		icon.className = getIconClass(state);
	}
};

var updateIcon = function updateIcon(state) {
	if (state === 'warning' || state === 'error') {
		displayIcon(state);
	} else {
		removeIcon();
	}
};

exports.updateIcon = updateIcon;
// The container stays as placeholder in the statusBar,
// the icon is then added and removed as needed
var createContainer = function createContainer() {
	var div = document.createElement('div');

	div.id = 'aec-status-bar-container';
	div.className = 'inline-block';

	return div;
};
exports.createContainer = createContainer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ldmFuaGVuZHJpeDEvLmF0b20vcGFja2FnZXMvZWRpdG9yY29uZmlnL2xpYi9zdGF0dXN0aWxlLXZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQSxJQUFNLFlBQVksR0FBRyxTQUFmLFlBQVksQ0FBRyxLQUFLLEVBQUk7QUFDN0IsdUNBQW1DLEtBQUssSUFBSSxRQUFRLENBQUEsQ0FBRztDQUN2RCxDQUFDOztBQUVGLElBQU0sT0FBTyxHQUFHLFNBQVYsT0FBTyxHQUFTO0FBQ3JCLFFBQU8sUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0NBQ3RELENBQUM7O0FBRUYsSUFBTSxZQUFZLEdBQUcsU0FBZixZQUFZLEdBQVM7QUFDMUIsUUFBTyxRQUFRLENBQUMsY0FBYyxDQUFDLDBCQUEwQixDQUFDLENBQUM7Q0FDM0QsQ0FBQzs7QUFFRixJQUFNLFVBQVUsR0FBRyxTQUFiLFVBQVUsQ0FBRyxLQUFLLEVBQUk7QUFDM0IsS0FBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFNUMsS0FBSSxDQUFDLEVBQUUsR0FBRyxxQkFBcUIsQ0FBQztBQUNoQyxLQUFJLENBQUMsU0FBUyxHQUFHLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQU07QUFDcEMsTUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLHlCQUF5QixDQUFDLENBQUM7RUFDdEYsQ0FBQyxDQUFDOztBQUVILFFBQU8sSUFBSSxDQUFDO0NBQ1osQ0FBQzs7QUFFSyxJQUFNLFVBQVUsR0FBRyxTQUFiLFVBQVUsR0FBUztBQUMvQixLQUFJLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRTtBQUN2QixTQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7RUFDNUM7Q0FDRCxDQUFDOzs7QUFFSyxJQUFNLGVBQWUsR0FBRyxTQUFsQixlQUFlLEdBQVM7QUFDcEMsUUFBTyxZQUFZLEVBQUUsS0FBSyxJQUFJLENBQUM7Q0FDL0IsQ0FBQzs7O0FBRUYsSUFBTSxXQUFXLEdBQUcsU0FBZCxXQUFXLENBQUcsS0FBSyxFQUFJO0FBQzVCLEtBQU0sSUFBSSxHQUFHLE9BQU8sRUFBRSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM1QyxLQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxJQUFJLGVBQWUsRUFBRSxFQUFFO0FBQ2xELGNBQVksRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNqQyxNQUFNO0FBQ04sTUFBSSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDckM7Q0FDRCxDQUFDOztBQUVLLElBQU0sVUFBVSxHQUFHLFNBQWIsVUFBVSxDQUFHLEtBQUssRUFBSTtBQUNsQyxLQUFJLEtBQUssS0FBSyxTQUFTLElBQ3RCLEtBQUssS0FBSyxPQUFPLEVBQUU7QUFDbkIsYUFBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO0VBQ25CLE1BQU07QUFDTixZQUFVLEVBQUUsQ0FBQztFQUNiO0NBQ0QsQ0FBQzs7Ozs7QUFJSyxJQUFNLGVBQWUsR0FBRyxTQUFsQixlQUFlLEdBQVM7QUFDcEMsS0FBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7QUFFMUMsSUFBRyxDQUFDLEVBQUUsR0FBRywwQkFBMEIsQ0FBQztBQUNwQyxJQUFHLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQzs7QUFFL0IsUUFBTyxHQUFHLENBQUM7Q0FDWCxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9ldmFuaGVuZHJpeDEvLmF0b20vcGFja2FnZXMvZWRpdG9yY29uZmlnL2xpYi9zdGF0dXN0aWxlLXZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGJhYmVsICovXG5cbmNvbnN0IGdldEljb25DbGFzcyA9IHN0YXRlID0+IHtcblx0cmV0dXJuIGBpY29uIGFlYy1pY29uLW1vdXNlIHRleHQtJHtzdGF0ZSB8fCAnc3VidGxlJ31gO1xufTtcblxuY29uc3QgZ2V0SWNvbiA9ICgpID0+IHtcblx0cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZWMtc3RhdHVzLWJhci10aWxlJyk7XG59O1xuXG5jb25zdCBnZXRDb250YWluZXIgPSAoKSA9PiB7XG5cdHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWVjLXN0YXR1cy1iYXItY29udGFpbmVyJyk7XG59O1xuXG5jb25zdCBjcmVhdGVJY29uID0gc3RhdGUgPT4ge1xuXHRjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG5cdGljb24uaWQgPSAnYWVjLXN0YXR1cy1iYXItdGlsZSc7XG5cdGljb24uY2xhc3NOYW1lID0gZ2V0SWNvbkNsYXNzKHN0YXRlKTtcblx0aWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRhdG9tLmNvbW1hbmRzLmRpc3BhdGNoKGF0b20udmlld3MuZ2V0VmlldyhhdG9tLndvcmtzcGFjZSksICdFZGl0b3JDb25maWc6c2hvdy1zdGF0ZScpO1xuXHR9KTtcblxuXHRyZXR1cm4gaWNvbjtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVJY29uID0gKCkgPT4ge1xuXHRpZiAoZ2V0SWNvbigpICE9PSBudWxsKSB7XG5cdFx0Z2V0SWNvbigpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZ2V0SWNvbigpKTtcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGNvbnRhaW5lckV4aXN0cyA9ICgpID0+IHtcblx0cmV0dXJuIGdldENvbnRhaW5lcigpICE9PSBudWxsO1xufTtcblxuY29uc3QgZGlzcGxheUljb24gPSBzdGF0ZSA9PiB7XG5cdGNvbnN0IGljb24gPSBnZXRJY29uKCkgfHwgY3JlYXRlSWNvbihzdGF0ZSk7XG5cdGlmIChpY29uLnBhcmVudE5vZGUgPT09IG51bGwgJiYgY29udGFpbmVyRXhpc3RzKCkpIHtcblx0XHRnZXRDb250YWluZXIoKS5hcHBlbmRDaGlsZChpY29uKTtcblx0fSBlbHNlIHtcblx0XHRpY29uLmNsYXNzTmFtZSA9IGdldEljb25DbGFzcyhzdGF0ZSk7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVJY29uID0gc3RhdGUgPT4ge1xuXHRpZiAoc3RhdGUgPT09ICd3YXJuaW5nJyB8fFxuXHRcdHN0YXRlID09PSAnZXJyb3InKSB7XG5cdFx0ZGlzcGxheUljb24oc3RhdGUpO1xuXHR9IGVsc2Uge1xuXHRcdHJlbW92ZUljb24oKTtcblx0fVxufTtcblxuLy8gVGhlIGNvbnRhaW5lciBzdGF5cyBhcyBwbGFjZWhvbGRlciBpbiB0aGUgc3RhdHVzQmFyLFxuLy8gdGhlIGljb24gaXMgdGhlbiBhZGRlZCBhbmQgcmVtb3ZlZCBhcyBuZWVkZWRcbmV4cG9ydCBjb25zdCBjcmVhdGVDb250YWluZXIgPSAoKSA9PiB7XG5cdGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG5cdGRpdi5pZCA9ICdhZWMtc3RhdHVzLWJhci1jb250YWluZXInO1xuXHRkaXYuY2xhc3NOYW1lID0gJ2lubGluZS1ibG9jayc7XG5cblx0cmV0dXJuIGRpdjtcbn07XG4iXX0=