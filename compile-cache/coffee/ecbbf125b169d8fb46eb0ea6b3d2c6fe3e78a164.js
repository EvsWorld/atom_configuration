(function() {
  module.exports = function() {
    return {
      hexToRgb: function(hex) {
        hex = hex.replace('#', '');
        if (hex.length === 3) {
          hex = hex.replace(/(.)(.)(.)/, "$1$1$2$2$3$3");
        }
        return [parseInt(hex.substr(0, 2), 16), parseInt(hex.substr(2, 2), 16), parseInt(hex.substr(4, 2), 16)];
      },
      hexaToRgb: function(hexa) {
        return this.hexToRgb((hexa.match(/rgba\((\#.+),/))[1]);
      },
      hexToHsl: function(hex) {
        return this.rgbToHsl(this.hexToRgb(hex.replace('#', '')));
      },
      rgbToHex: function(rgb) {
        var _componentToHex;
        _componentToHex = function(component) {
          var _hex;
          _hex = component.toString(16);
          if (_hex.length === 1) {
            return "0" + _hex;
          } else {
            return _hex;
          }
        };
        return [_componentToHex(rgb[0]), _componentToHex(rgb[1]), _componentToHex(rgb[2])].join('');
      },
      rgbToHsl: function(arg) {
        var _d, _h, _l, _max, _min, _s, b, g, r;
        r = arg[0], g = arg[1], b = arg[2];
        r /= 255;
        g /= 255;
        b /= 255;
        _max = Math.max(r, g, b);
        _min = Math.min(r, g, b);
        _l = (_max + _min) / 2;
        if (_max === _min) {
          return [0, 0, Math.floor(_l * 100)];
        }
        _d = _max - _min;
        _s = _l > 0.5 ? _d / (2 - _max - _min) : _d / (_max + _min);
        switch (_max) {
          case r:
            _h = (g - b) / _d + (g < b ? 6 : 0);
            break;
          case g:
            _h = (b - r) / _d + 2;
            break;
          case b:
            _h = (r - g) / _d + 4;
        }
        _h /= 6;
        return [Math.floor(_h * 360), Math.floor(_s * 100), Math.floor(_l * 100)];
      },
      rgbToHsv: function(arg) {
        var b, computedH, computedS, computedV, d, g, h, maxRGB, minRGB, r;
        r = arg[0], g = arg[1], b = arg[2];
        computedH = 0;
        computedS = 0;
        computedV = 0;
        if ((r == null) || (g == null) || (b == null) || isNaN(r) || isNaN(g) || isNaN(b)) {
          return;
        }
        if (r < 0 || g < 0 || b < 0 || r > 255 || g > 255 || b > 255) {
          return;
        }
        r = r / 255;
        g = g / 255;
        b = b / 255;
        minRGB = Math.min(r, Math.min(g, b));
        maxRGB = Math.max(r, Math.max(g, b));
        if (minRGB === maxRGB) {
          computedV = minRGB;
          return [0, 0, computedV];
        }
        d = (r === minRGB ? g - b : (b === minRGB ? r - g : b - r));
        h = (r === minRGB ? 3 : (b === minRGB ? 1 : 5));
        computedH = 60 * (h - d / (maxRGB - minRGB));
        computedS = (maxRGB - minRGB) / maxRGB;
        computedV = maxRGB;
        return [computedH, computedS, computedV];
      },
      hsvToHsl: function(arg) {
        var h, s, v;
        h = arg[0], s = arg[1], v = arg[2];
        return [h, s * v / ((h = (2 - s) * v) < 1 ? h : 2 - h), h / 2];
      },
      hsvToRgb: function(arg) {
        var _f, _i, _p, _q, _result, _t, h, s, v;
        h = arg[0], s = arg[1], v = arg[2];
        h /= 60;
        s /= 100;
        v /= 100;
        if (s === 0) {
          return [Math.round(v * 255), Math.round(v * 255), Math.round(v * 255)];
        }
        _i = Math.floor(h);
        _f = h - _i;
        _p = v * (1 - s);
        _q = v * (1 - s * _f);
        _t = v * (1 - s * (1 - _f));
        _result = (function() {
          switch (_i) {
            case 0:
              return [v, _t, _p];
            case 1:
              return [_q, v, _p];
            case 2:
              return [_p, v, _t];
            case 3:
              return [_p, _q, v];
            case 4:
              return [_t, _p, v];
            case 5:
              return [v, _p, _q];
            default:
              return [v, _t, _p];
          }
        })();
        return [Math.round(_result[0] * 255), Math.round(_result[1] * 255), Math.round(_result[2] * 255)];
      },
      hslToHsv: function(arg) {
        var h, l, s;
        h = arg[0], s = arg[1], l = arg[2];
        s /= 100;
        l /= 100;
        s *= l < .5 ? l : 1 - l;
        return [h, (2 * s / (l + s)) || 0, l + s];
      },
      hslToRgb: function(input) {
        var h, ref, s, v;
        ref = this.hslToHsv(input), h = ref[0], s = ref[1], v = ref[2];
        return this.hsvToRgb([h, s * 100, v * 100]);
      },
      vecToRgb: function(input) {
        return [(input[0] * 255) << 0, (input[1] * 255) << 0, (input[2] * 255) << 0];
      },
      rgbToVec: function(input) {
        return [(input[0] / 255).toFixed(2), (input[1] / 255).toFixed(2), (input[2] / 255).toFixed(2)];
      }
    };
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL1VzZXJzL2V2YW5oZW5kcml4MS8uYXRvbS9wYWNrYWdlcy9jb2xvci1waWNrZXIvbGliL21vZHVsZXMvQ29udmVydC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUk7RUFBQSxNQUFNLENBQUMsT0FBUCxHQUFpQixTQUFBO1dBTWI7TUFBQSxRQUFBLEVBQVUsU0FBQyxHQUFEO1FBQ04sR0FBQSxHQUFNLEdBQUcsQ0FBQyxPQUFKLENBQVksR0FBWixFQUFpQixFQUFqQjtRQUNOLElBQWlELEdBQUcsQ0FBQyxNQUFKLEtBQWMsQ0FBL0Q7VUFBQSxHQUFBLEdBQU0sR0FBRyxDQUFDLE9BQUosQ0FBWSxXQUFaLEVBQXlCLGNBQXpCLEVBQU47O0FBRUEsZUFBTyxDQUNILFFBQUEsQ0FBVSxHQUFHLENBQUMsTUFBSixDQUFXLENBQVgsRUFBYyxDQUFkLENBQVYsRUFBNEIsRUFBNUIsQ0FERyxFQUVILFFBQUEsQ0FBVSxHQUFHLENBQUMsTUFBSixDQUFXLENBQVgsRUFBYyxDQUFkLENBQVYsRUFBNEIsRUFBNUIsQ0FGRyxFQUdILFFBQUEsQ0FBVSxHQUFHLENBQUMsTUFBSixDQUFXLENBQVgsRUFBYyxDQUFkLENBQVYsRUFBNEIsRUFBNUIsQ0FIRztNQUpELENBQVY7TUFZQSxTQUFBLEVBQVcsU0FBQyxJQUFEO0FBQ1AsZUFBTyxJQUFDLENBQUEsUUFBRCxDQUFVLENBQUMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxlQUFYLENBQUQsQ0FBNkIsQ0FBQSxDQUFBLENBQXZDO01BREEsQ0FaWDtNQWtCQSxRQUFBLEVBQVUsU0FBQyxHQUFEO0FBQ04sZUFBTyxJQUFDLENBQUEsUUFBRCxDQUFVLElBQUMsQ0FBQSxRQUFELENBQVUsR0FBRyxDQUFDLE9BQUosQ0FBWSxHQUFaLEVBQWlCLEVBQWpCLENBQVYsQ0FBVjtNQURELENBbEJWO01Bd0JBLFFBQUEsRUFBVSxTQUFDLEdBQUQ7QUFDTixZQUFBO1FBQUEsZUFB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QUFPLENBQ3hCLENBQUMsS0FBTSxDQUFBLENBQUEsQ0FBTixHQUFXLEdBQVosQ0FBZ0IsQ0FBQyxPQUFqQixDQUF5QixDQUF6QixDQUR3QixFQUV4QixDQUFDLEtBQU0sQ0FBQSxDQUFBLENBQU4sR0FBVyxHQUFaLENBQWdCLENBQUMsT0FBakIsQ0FBeUIsQ0FBekIsQ0FGd0IsRUFHeEIsQ0FBQyxLQUFNLENBQUEsQ0FBQSxDQUFOLEdBQVcsR0FBWixDQUFnQixDQUFDLE9BQWpCLENBQXlCLENBQXpCLENBSHdCO01BQWxCLENBckxWOztFQU5hO0FBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jICBDb252ZXJ0XG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIG1vZHVsZS5leHBvcnRzID0gLT5cbiAgICAgICAgIyBUT0RPOiBJIGRvbid0IGxpa2UgdGhpcyBmaWxlLiBJdCdzIHVnbHkgYW5kIGZlZWxzIHdlaXJkXG5cbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAjICBIRVggdG8gUkdCXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGhleFRvUmdiOiAoaGV4KSAtPlxuICAgICAgICAgICAgaGV4ID0gaGV4LnJlcGxhY2UgJyMnLCAnJ1xuICAgICAgICAgICAgaGV4ID0gaGV4LnJlcGxhY2UgLyguKSguKSguKS8sIFwiJDEkMSQyJDIkMyQzXCIgaWYgaGV4Lmxlbmd0aCBpcyAzXG5cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQgKGhleC5zdWJzdHIgMCwgMiksIDE2XG4gICAgICAgICAgICAgICAgcGFyc2VJbnQgKGhleC5zdWJzdHIgMiwgMiksIDE2XG4gICAgICAgICAgICAgICAgcGFyc2VJbnQgKGhleC5zdWJzdHIgNCwgMiksIDE2XVxuXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgIyAgSEVYQSB0byBSR0JcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaGV4YVRvUmdiOiAoaGV4YSkgLT5cbiAgICAgICAgICAgIHJldHVybiBAaGV4VG9SZ2IgKGhleGEubWF0Y2ggL3JnYmFcXCgoXFwjLispLC8pWzFdXG5cbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAjICBIRVggdG8gSFNMXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGhleFRvSHNsOiAoaGV4KSAtPlxuICAgICAgICAgICAgcmV0dXJuIEByZ2JUb0hzbCBAaGV4VG9SZ2IgaGV4LnJlcGxhY2UgJyMnLCAnJ1xuXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgIyAgUkdCIHRvIEhFWFxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICByZ2JUb0hleDogKHJnYikgLT5cbiAgICAgICAgICAgIF9jb21wb25lbnRUb0hleCA9IChjb21wb25lbnQpIC0+XG4gICAgICAgICAgICAgICAgX2hleCA9IGNvbXBvbmVudC50b1N0cmluZyAxNlxuICAgICAgICAgICAgICAgIHJldHVybiBpZiBfaGV4Lmxlbmd0aCBpcyAxIHRoZW4gXCIwI3sgX2hleCB9XCIgZWxzZSBfaGV4XG5cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgKF9jb21wb25lbnRUb0hleCByZ2JbMF0pXG4gICAgICAgICAgICAgICAgKF9jb21wb25lbnRUb0hleCByZ2JbMV0pXG4gICAgICAgICAgICAgICAgKF9jb21wb25lbnRUb0hleCByZ2JbMl0pXG4gICAgICAgICAgICBdLmpvaW4gJydcblxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICMgIFJHQiB0byBIU0xcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgcmdiVG9Ic2w6IChbciwgZywgYl0pIC0+XG4gICAgICAgICAgICByIC89IDI1NVxuICAgICAgICAgICAgZyAvPSAyNTVcbiAgICAgICAgICAgIGIgLz0gMjU1XG5cbiAgICAgICAgICAgIF9tYXggPSBNYXRoLm1heCByLCBnLCBiXG4gICAgICAgICAgICBfbWluID0gTWF0aC5taW4gciwgZywgYlxuXG4gICAgICAgICAgICBfbCA9IChfbWF4ICsgX21pbikgLyAyXG5cbiAgICAgICAgICAgIGlmIF9tYXggaXMgX21pbiB0aGVuIHJldHVybiBbMCwgMCwgTWF0aC5mbG9vciBfbCAqIDEwMF1cblxuICAgICAgICAgICAgX2QgPSBfbWF4IC0gX21pblxuICAgICAgICAgICAgX3MgPSBpZiBfbCA+IDAuNSB0aGVuIF9kIC8gKDIgLSBfbWF4IC0gX21pbikgZWxzZSBfZCAvIChfbWF4ICsgX21pbilcblxuICAgICAgICAgICAgc3dpdGNoIF9tYXhcbiAgICAgICAgICAgICAgICB3aGVuIHIgdGhlbiBfaCA9IChnIC0gYikgLyBfZCArIChpZiBnIDwgYiB0aGVuIDYgZWxzZSAwKVxuICAgICAgICAgICAgICAgIHdoZW4gZyB0aGVuIF9oID0gKGIgLSByKSAvIF9kICsgMlxuICAgICAgICAgICAgICAgIHdoZW4gYiB0aGVuIF9oID0gKHIgLSBnKSAvIF9kICsgNFxuXG4gICAgICAgICAgICBfaCAvPSA2XG5cbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vciBfaCAqIDM2MFxuICAgICAgICAgICAgICAgIE1hdGguZmxvb3IgX3MgKiAxMDBcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yIF9sICogMTAwXVxuXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgIyAgUkdCIHRvIEhTVlxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICByZ2JUb0hzdjogKFtyLCBnLCBiXSkgLT5cbiAgICAgICAgICAgIGNvbXB1dGVkSCA9IDBcbiAgICAgICAgICAgIGNvbXB1dGVkUyA9IDBcbiAgICAgICAgICAgIGNvbXB1dGVkViA9IDBcblxuICAgICAgICAgICAgaWYgbm90IHI/IG9yIG5vdCBnPyBvciBub3QgYj8gb3IgaXNOYU4ocikgb3IgaXNOYU4oZykgb3IgaXNOYU4oYilcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIGlmIHIgPCAwIG9yIGcgPCAwIG9yIGIgPCAwIG9yIHIgPiAyNTUgb3IgZyA+IDI1NSBvciBiID4gMjU1XG4gICAgICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgICAgIHIgPSByIC8gMjU1XG4gICAgICAgICAgICBnID0gZyAvIDI1NVxuICAgICAgICAgICAgYiA9IGIgLyAyNTVcblxuICAgICAgICAgICAgbWluUkdCID0gTWF0aC5taW4ociwgTWF0aC5taW4oZywgYikpXG4gICAgICAgICAgICBtYXhSR0IgPSBNYXRoLm1heChyLCBNYXRoLm1heChnLCBiKSlcblxuICAgICAgICAgICAgIyBCbGFjay1ncmF5LXdoaXRlXG4gICAgICAgICAgICBpZiBtaW5SR0IgaXMgbWF4UkdCXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRWID0gbWluUkdCXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRWXVxuXG4gICAgICAgICAgICAjIENvbG9ycyBvdGhlciB0aGFuIGJsYWNrLWdyYXktd2hpdGU6XG4gICAgICAgICAgICBkID0gKGlmIChyIGlzIG1pblJHQikgdGhlbiBnIC0gYiBlbHNlICgoaWYgKGIgaXMgbWluUkdCKSB0aGVuIHIgLSBnIGVsc2UgYiAtIHIpKSlcbiAgICAgICAgICAgIGggPSAoaWYgKHIgaXMgbWluUkdCKSB0aGVuIDMgZWxzZSAoKGlmIChiIGlzIG1pblJHQikgdGhlbiAxIGVsc2UgNSkpKVxuXG4gICAgICAgICAgICBjb21wdXRlZEggPSA2MCAqIChoIC0gZCAvIChtYXhSR0IgLSBtaW5SR0IpKVxuICAgICAgICAgICAgY29tcHV0ZWRTID0gKG1heFJHQiAtIG1pblJHQikgLyBtYXhSR0JcbiAgICAgICAgICAgIGNvbXB1dGVkViA9IG1heFJHQlxuXG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkSFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkVl1cblxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICMgIEhTViB0byBIU0xcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaHN2VG9Ic2w6IChbaCwgcywgdl0pIC0+IFtcbiAgICAgICAgICAgIGhcbiAgICAgICAgICAgIHMgKiB2IC8gKGlmIChoID0gKDIgLSBzKSAqIHYpIDwgMSB0aGVuIGggZWxzZSAyIC0gaClcbiAgICAgICAgICAgIGggLyAyXVxuXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgIyAgSFNWIHRvIFJHQlxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBoc3ZUb1JnYjogKFtoLCBzLCB2XSkgLT5cbiAgICAgICAgICAgIGggLz0gNjAgIyAwIHRvIDVcbiAgICAgICAgICAgIHMgLz0gMTAwXG4gICAgICAgICAgICB2IC89IDEwMFxuXG4gICAgICAgICAgICAjIEFjaHJvbWF0aWMgZ3JheXNjYWxlXG4gICAgICAgICAgICBpZiBzIGlzIDAgdGhlbiByZXR1cm4gW1xuICAgICAgICAgICAgICAgIE1hdGgucm91bmQgdiAqIDI1NVxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQgdiAqIDI1NVxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQgdiAqIDI1NV1cblxuICAgICAgICAgICAgX2kgPSBNYXRoLmZsb29yIGhcbiAgICAgICAgICAgIF9mID0gaCAtIF9pXG4gICAgICAgICAgICBfcCA9IHYgKiAoMSAtIHMpXG4gICAgICAgICAgICBfcSA9IHYgKiAoMSAtIHMgKiBfZilcbiAgICAgICAgICAgIF90ID0gdiAqICgxIC0gcyAqICgxIC0gX2YpKVxuXG4gICAgICAgICAgICBfcmVzdWx0ID0gc3dpdGNoIF9pXG4gICAgICAgICAgICAgICAgd2hlbiAwIHRoZW4gW3YsIF90LCBfcF1cbiAgICAgICAgICAgICAgICB3aGVuIDEgdGhlbiBbX3EsIHYsIF9wXVxuICAgICAgICAgICAgICAgIHdoZW4gMiB0aGVuIFtfcCwgdiwgX3RdXG4gICAgICAgICAgICAgICAgd2hlbiAzIHRoZW4gW19wLCBfcSwgdl1cbiAgICAgICAgICAgICAgICB3aGVuIDQgdGhlbiBbX3QsIF9wLCB2XVxuICAgICAgICAgICAgICAgIHdoZW4gNSB0aGVuIFt2LCBfcCwgX3FdXG4gICAgICAgICAgICAgICAgZWxzZSBbdiwgX3QsIF9wXVxuXG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIE1hdGgucm91bmQgX3Jlc3VsdFswXSAqIDI1NVxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQgX3Jlc3VsdFsxXSAqIDI1NVxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQgX3Jlc3VsdFsyXSAqIDI1NV1cblxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICMgIEhTTCB0byBIU1ZcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaHNsVG9Ic3Y6IChbaCwgcywgbF0pIC0+XG4gICAgICAgICAgICBzIC89IDEwMFxuICAgICAgICAgICAgbCAvPSAxMDBcblxuICAgICAgICAgICAgcyAqPSBpZiBsIDwgLjUgdGhlbiBsIGVsc2UgMSAtIGxcblxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBoXG4gICAgICAgICAgICAgICAgKDIgKiBzIC8gKGwgKyBzKSkgb3IgMFxuICAgICAgICAgICAgICAgIGwgKyBzXVxuXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgIyAgSFNMIHRvIFJHQlxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBoc2xUb1JnYjogKGlucHV0KSAtPlxuICAgICAgICAgICAgW2gsIHMsIHZdID0gQGhzbFRvSHN2IGlucHV0XG4gICAgICAgICAgICByZXR1cm4gQGhzdlRvUmdiIFtoLCAocyAqIDEwMCksICh2ICogMTAwKV1cblxuICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICMgIFZFQyB0byBSR0JcbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdmVjVG9SZ2I6IChpbnB1dCkgLT4gcmV0dXJuIFtcbiAgICAgICAgICAgIChpbnB1dFswXSAqIDI1NSkgPDwgMFxuICAgICAgICAgICAgKGlucHV0WzFdICogMjU1KSA8PCAwXG4gICAgICAgICAgICAoaW5wdXRbMl0gKiAyNTUpIDw8IDBdXG5cbiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAjICBSR0IgdG8gVkVDXG4gICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHJnYlRvVmVjOiAoaW5wdXQpIC0+IHJldHVybiBbXG4gICAgICAgICAgICAoaW5wdXRbMF0gLyAyNTUpLnRvRml4ZWQgMlxuICAgICAgICAgICAgKGlucHV0WzFdIC8gMjU1KS50b0ZpeGVkIDJcbiAgICAgICAgICAgIChpbnB1dFsyXSAvIDI1NSkudG9GaXhlZCAyXVxuIl19
